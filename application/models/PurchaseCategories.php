<?php

/**
 * PurchaseCategories
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @package    ##PACKAGE##
 * @subpackage ##SUBPACKAGE##
 * @author     ##NAME## <##EMAIL##>
 * @version    SVN: $Id: Builder.php 7490 2010-03-29 19:53:27Z jwage $
 */
class PurchaseCategories extends BasePurchaseCategories
{
   /**
     * getList
     * Get a list ready for the html select object
     * @return array
     */
    public static function getList() {
        $items = array ();
        
        $records = Doctrine_Query::create ()->from ( 'PurchaseCategories' )->execute ()->toArray ();
        foreach ( $records as $c ) {
            $items [$c ['category_id']] = $c ['category'];
        }
        
        return $items;
    }
    
    /**
     * grid
     * create the configuration of the grid
     */
    public static function grid($rowNum = 10) {
    
    	$translator = Shineisp_Registry::getInstance ()->Zend_Translate;
    
    	$config ['datagrid'] ['columns'] [] = array ('label' => null, 'field' => 'c.category_id', 'alias' => 'category_id', 'type' => 'selectall' );
    	$config ['datagrid'] ['columns'] [] = array ('label' => $translator->translate ( 'Id' ), 'field' => 'c.category_id', 'alias' => 'category_id', 'sortable' => true, 'searchable' => true, 'type' => 'string' );
    	$config ['datagrid'] ['columns'] [] = array ('label' => $translator->translate ( 'Name' ), 'field' => 'name', 'alias' => 'name', 'sortable' => true, 'searchable' => true, 'type' => 'string' );
    
    	$config ['datagrid'] ['fields'] = "category_id, category";
    	$config ['datagrid'] ['rownum'] = $rowNum;
    
    	$config ['datagrid'] ['dqrecordset'] = Doctrine_Query::create ()->select ( $config ['datagrid'] ['fields'] )->from ( 'PurchaseCategories c' );
    
    	$config ['datagrid'] ['basepath'] = "/admin/filecategories/";
    	$config ['datagrid'] ['index'] = "category_id";
    
    	return $config;
    }
}